# Install package after checkout (execute from where setup.py is located)
pip install -e .
# install package in .venv (to ensure Phylance in visual code finds the sources):
source .venv/bin/activate
.. then pip install <whatever>

# run tests via tox:
tox
# run tests via pytest (might require being in venv (see above))
pytest -rA
pytest -rA tests/test_<specific>.py
# profiling
pip install pytest-profiling
pytest -rA --profile

# Flake8 manual
flake8 --count src

# GIT
# Changes between working dir and last commit when current commit is in preparation
git diff --name-only HEAD~1

### Registration

Status: Working up to USER_DB, conveying configuration options and conveying
the USER_DB while concept is not settled and lots of testing is missing.

Next: Demonstrate synchronization after registration by setting up
synchronization pairs with writing_roles and reading_roles and embedding some
.sync() call.

Things to do:
  * architecture documentation of registration and sync (sequence)
  * encryption during exchange of registration data is missing
  * Adapt sync algo to limit writing of .sync files in uni-directional sync scenarios.
    "Users have no writing permissions in some remote location where ADMIN has
    rights"
  * Add URL based sync (the admin DB)
    * Do I really need URL based sync and the second registry for ADMINS right now?
      Alternative would be that allowed admins are hard-coded (into a temporary
      registry object) that can then be used. Main reason for separate USER_DB
      is: provide a root of trust for the registry!
  * extend test cases (unit tests) and, thereby, review the code
  * consider moving stuff from ApplicationMock into an application harness
    that contains the application data structure and activities pretty much
    like they are in ApplicationMock. The Harness will come in different
    variants: LocalAppHarness, SharedDataAppHarness.
  * .sync files will not work properly. The paths are relative to the pytest
    execution directory. After copying an initialization, those paths will have
    changed, screwing the .sync information. >> execute applications in a
    changed path.

## Others

Things to do:
  * architecture documentation of storage module (got quite complex)